---
- summary: |
    Продолжение игры после проверки решения
  requirement: |
    При проверке решения в случае непрохождения тестов игра продолжается.
  prerequisites: |
    Выполнена авторизация
    Предварительно создана игра с ботом (см. тест-кейс «Создание игры с ботом»)
  test-data: |
    No data
  steps:
    - Нажать на кнопку проверки решения
  expected-result: |
    Тесты не пройдены и игра продолжается
    
- summary: |
    Завершение игры победой после проверки решения
  requirement: |
    При проверке решения в случае, если тесты пройдены, игра завершается, игроку засчитывается победа. По окончании игры выводится сообщение о победе.
  prerequisites: |
    Выполнена авторизация
    Предварительно создана игра с ботом (см. тест-кейс «Создание игры с ботом») и выбрана задача "rect_area" 
    Открыта страница битвы с ботом и в редакторе кода выбран язык программирования PHP
  test-data: |
    No data
  steps:
    - Заменить в редакторе кода строку "return 0;" на "return $length * $width;"
    - Нажать на кнопку проверки решения
  expected-result: |
    Игра заканчивается и отображается сообщение о победе
    
- summary: |
    Завершение игры поражением после проверки правильного решения соперником
  requirement: |
    При проверке решения соперником в случае если тесты пройдены, игра завершается, сопернику засчитывается победа. По окончании игры выводится сообщение о поражении.
  prerequisites: |
    Выполнена авторизация с двух разных аккаунтов
    Первый игрок создает игру с другим пользователем (см. тест-кейс «Создание игры с другим пользователем») и выбрана задача "rect_area"
    Второй игрок подключается к созданной игре (см. тест-кейс "Подключение к игре с другим пользователем из списка")
  test-data: |
    No data
  steps: 
    - Вторым игроком заменить в редакторе кода строку "return 0;" на "return $length * $width;"
    - Нажать на кнопку проверки решения
  expected-result: |
    Игра заканчивается и у первого игрока отображается сообщение о поражении
    
- summary: |
    Завершение игры поражением после сдачи сопернику
  requirement: |
    В игре должна быть возможность сдаться, после сдачи игра завершается. Сдавшемуся игроку засчитывается поражение. По окончании игры выводится сообщение о поражении.
  prerequisites: |
    Выполнена авторизация
    Предварительно создана игра с ботом (см. тест-кейс «Создание игры с ботом»)
  test-data: |
    No data
  steps:
    - Нажать кнопку сдаться
    - Подтвердить сдачу
  expected-result: |
    Игра заканчивается и отображается сообщение о проигрыше  
    
- summary: |
    Завершение игры победой после сдачи соперника
  requirement: |
    В игре должна быть возможность сдаться, после сдачи игра завершается. Оппоненту засчитывается победа. По окончании игры выводится сообщение о победе.
  prerequisites: |
    Выполнена авторизация с двух разных аккаунтов
    Первый игрок создает игру с другим пользователем (см. тест-кейс «Создание игры с другим пользователем»)
    Второй игрок подключается к созданной игре (см. тест-кейс "Подключение к игре с другим пользователем из списка")
  test-data: |
    No data
  steps: 
    - Вторым игроком нажать кнопку сдаться
    - Подтвердить сдачу
  expected-result: |
    Игра заканчивается и у первого игрока отображается сообщение о победе
    
- summary: |
    Завершение игры ничьей после окончания таймера отсчета
  requirement: |
    При окончании времени игры (таймера) игра завершается ничьей. По окончании игры выводится сообщение о ничьей.
  prerequisites: |
    Выполнена авторизация
    Открыта страница создания игры
  test-data: |
    No data
  steps:
    - Выбрать тип игры с ботом
    - Выбрать время игры, например 3 минуты
    - Нажать кнопку создания битвы
    - Дождаться окончания таймера
  expected-result: |
    Игра заканчивается и отображается сообщение о ничьей
    
- summary: |
    Выбор языка программирования в настройках
  requirement: |
    В настройках можно выбрать предпочтительный язык программирования.
  prerequisites: |
    Выполнена авторизация
    Открыта страница с настройками
  test-data: |
    No data
  steps:
    - Выбрать язык программирования, например PHP
    - Сохранить настройки
    - Перейти на главную страницу
    - Нажать на кнопку создания игры
    - Выбрать тип игры с ботом
    - Нажать кнопку создания битвы
  expected-result: |
    Язык в редакторе соответствует языку выбранному в настройках

- summary: |
    Выбор языка программирования в игре
  requirement: |
    Во время игры можно выбрать предпочтительный язык программирования.
  prerequisites: |
    Выполнена авторизация
    Предварительно создана игра с ботом (см. тест-кейс «Создание игры с ботом») и открыта страница битвы с ботом
  test-data: |
    No data
  steps:
    - Из списка языков выбрать язык, например python
  expected-result: |
    Язык в редакторе изменился на выбранный язык программирования
    
- summary: |
    Сброс состояния редактора
  requirement: |
    Должна быть возможность сбросить состояние редактора до первоначального состояния.
  prerequisites: |
    Выполнена авторизация
    Создана игра с ботом (см. тест-кейс «Создание игры с ботом») 
  test-data: |
    No data
  steps: 
    - Выделить весь текст в редакторе
    - Удалить
    - Нажать на кнопку "Reset editor"
  expected-result: |
    Редактор возвращается в исходное состояние
    
- summary: |
    Отправка приглашения на матч-реванш другому игроку
  requirement: |
    После окончания игры должна быть возможность сыграть матч-реванш. При отправке приглашения другому игроку оно находится на рассмотрении.
  prerequisites: |
    Выполнена авторизация с двух разных аккаунтов
    Первый игрок создает игру с другим пользователем (см. тест-кейс «Создание игры с другим пользователем») и выбрана задача "rect_area"
    Второй игрок подключается к созданной игре (см. тест-кейс "Подключение к игре с другим пользователем")
  test-data: |
    No data
  steps: 
    - Нажать кнопку сдаться
    - Подтвердить сдачу
    - Нажать на кнопку отправки приглашения на матч-реванш
   expected-result: |
    Приглашение отправлено, ожидается ответ от оппонента

- summary: |
    Принятие приглашения на матч-реванш
  requirement: |
    После окончания игры должна быть возможность сыграть матч-реванш. В случае принятия приглашения загружается страница боя с другим игроком.
  prerequisites: |
    Выполнена авторизация с двух разных аккаунтов
    Первый игрок создает игру с другим пользователем (см. тест-кейс «Создание игры с другим пользователем») и выбрана задача "rect_area"
    Второй игрок подключается к созданной игре (см. тест-кейс "Подключение к игре с другим пользователем")
    Игра между игроками окончена победой (поражением), сдачей одного из игроков или ничьей
    Получено пришлашение от другого игрока (см. тест-кейс "Отправка приглашения на матч-реванш")
  test-data: |
    No data
  steps: 
    - Нажать на кнопку принятия приглашения на матч-реванш
   expected-result: |
    Загружается страница боя с другим игроком 

- summary: |
    Отклонение приглашения на матч-реванш
  requirement: |
    После окончания игры должна быть возможность сыграть матч-реванш. В случае отклонения предложение на матч-реванш считается отклоненным и игра не запускается.
  prerequisites: |
    Выполнена авторизация с двух разных аккаунтов
    Первый игрок создает игру с другим пользователем (см. тест-кейс «Создание игры с другим пользователем») и выбрана задача "rect_area"
    Второй игрок подключается к созданной игре (см. тест-кейс "Подключение к игре с другим пользователем")
    Игра между игроками окончена победой (поражением), сдачей одного из игроков или ничьей
    Получено пришлашение от другого игрока (см. тест-кейс "Отправка приглашения на матч-реванш")
  test-data: |
    No data
  steps: 
    - Нажать на кнопку отклонения приглашения на матч-реванш
   expected-result: |
    Приглашение отклонено, игра не началась.
