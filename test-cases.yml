---
- summary: |
    Регистрация
  requirement: |
    При введении никнейма, email и пароля, должна произойти регистрация пользователя
  prerequisites:
    Открыта страница регистрации
  test-data: |
    Nickname = test85
    Email = pcj41004@zbock.com
    Password = 123456
  steps:
    - Ввести никнейм
    - Ввести Email
    - Ввести пароль
    - Ввести пароль повторно
    - Нажать кнопку отправки данных
  expected-result: |
    Пользователь успешно зарегистрирован

- summary: |
    Авторизация через Email
  requirement: |
    При верном вводе Email и пароля пользователь должен войти в систему
  prerequisites: |
    Открыта страница логина
    Авторизация на сайте не выполнена
  test-data: |
    Email = pcj41004@zbock.com
    Password = 123456
  steps:
    - Ввести Email
    - Ввести пароль
    - Нажать кнопку отправки данных
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Авторизация через Github
  requirement: |
    Пользователь должен войти в систему через аккаунт Github
  prerequisites: |
    Открыта страница логина
    Авторизация на сайте не выполнена
    Пользователь авторизован в аккаунте на GitHub 
  test-data: |
    No data
  steps:
    - Нажать на кнопку входа через Github
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Авторизация через Discord
  requirement: |
    Пользователь должен войти в систему через аккаунт Discord
  prerequisites: |
    Открыта страница логина
    Авторизация на сайте не выполнена
    Пользователь авторизован в аккаунте на Discord 
  test-data: |
    No data
  steps:
    - Нажать на кнопку входа через Discord
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Создание игры с другим пользователем
  requirement: |
    После создания игры, к участию может присоединится другой пользователь
  prerequisites: |
    Выполнена авторизация
    Открыта страница создания игры
  test-data: |
    No data
  steps:
    - Выбрать сложность задачи (level)
    - Выбрать тип игры "With other users"
    - Выбрать время игры
    - Выбрать задачу
    - Нажать кнопку «Create Battle»
  expected-result: |
    Игра создана и отображается в списке игр

- summary: |
    Удаление созданной игры из списка игр
  requirement: |
    Игры не должно быть в лобби после удаления
  prerequisites: |
    Выполнена авторизация
    Открыта главная страница
    Предварительно создана игра со статусом ожидание оппонента (см. тест-кейс «Создание игры с другим пользователем»)
  test-data: |
    No data
  steps:
    - Нажать на крестик в списке игр
  expected-result: |
    Игра удалена и не отображается в списке игр

- summary: |
    Подключение к игре с другим пользователем
  requirement: |
    После подключения к игре загружается страница битвы с другим пользователем 
  prerequisites: |
    Выполнена авторизация
    Открыта главная страница
    В списке игр отображается игра предварительно созданная с другой учетной записи (см. тест-кейс «Создание игры с другим пользователем») в статусе "waiting opponent"
  test-data: |
    No data
  steps:
    - Нажать на кнопку "Fight" в списке
  expected-result: |
    Загружается страница битвы с другим пользователем

- summary: |
    Создание приглашения для игры с другом
  requirement: |
    После создания приглашения, к участию в игре может присоединится конкретный пользователь.
  prerequisites: |
    Выполнена авторизация
    Открыта страница создания игры
  test-data: |
    No data
  steps:
    - Выбрать сложность задачи (level)
    - Выбрать тип игры "With a friend"
    - Выбрать время игры
    - Выбрать оппонента из списка
    - Выбрать задачу
    - Нажать кнопку «Create Invite»
  expected-result: |
    В списке приглашений, появится приглашение выбранному оппоненту

- summary: |
    Отмена отправленного приглашения для игры с другом
  requirement: |
    После отмены приглашения, на главной странице приглашение удалится.
  prerequisites: |
    Выполнена авторизация
    Приглашение для игры направлено другому пользователю
  test-data: |
    No data
  steps:
    - Нажать на кнопку списка приглашений
    - Нажать кнопку "Cancel"
  expected-result: |
    Приглашение отменено и не отображается в списке приглашений.

- summary: |
    Отклонение приглашения для игры с другом
  requirement: |
    После отклонения приглашения, на главной странице приглашение удалится.
  prerequisites: |
    Выполнена авторизация
    С другой учетной записи предварительно создано приглашение (см. тест-кейс «Создание приглашения для игры с другом»)
  test-data: |
    No data
  steps:
    - Нажать на кнопку списка приглашений
    - Нажать кнопку "Decline"
  expected-result: |
    Приглашение отклонено и не отображается в списке приглашений.
    
- summary: |
    Принятие приглашения для игры с другом
  requirement: |
    После принятия приглашения загружается страница битвы с другим пользователем 
  prerequisites: |
    Выполнена авторизация
    С другой учетной записи предварительно создано приглашение (см. тест-кейс «Создание приглашения для игры с другом»)
  test-data: |
    No data
  steps:
    - Нажать на кнопку списка приглашений
    - Нажать кнопку "Accept"
  expected-result: |
    Загружается страница битвы с другим пользователем

- summary: |
    Создание игры с ботом
  requirement: |
    После создания игры загружается страница битвы с ботом
  prerequisites: |
    Выполнена авторизация
    Открыта страница создания игры
  test-data: |
    No data
  steps:
    - Выбрать сложность задачи (level)
    - Выбрать тип игры "With a bot"
    - Выбрать время игры
    - Выбрать задачу
    - Нажать кнопку «Create Battle»
  expected-result: |
    Загружается страница битвы с ботом

- summary: |
    Подключение к игре в качестве спектатора
  requirement: |
    При подключении в качестве спектатора должна быть возможность наблюдать за процессом сторонней игры 
  prerequisites: |
    Выполнена авторизация
    Открыта главная страница
    В списке игр отображается игра (например с ботом) предварительно созданная с другой учетной записи (см. тест-кейс «Создание игры с ботом») в статусе "playing"
  test-data: |
    No data
  steps:
    - Выбрать существующую игру
    - Нажать кнопку "show"
  expected-result: |
    Загружается страница битвы между пользователями (или ботом)

- summary: |
    Проверка кнопки "give up" в активной игре
  requirement: |
    При нажатии на кнопку "give up" должно появится сообщение о поражении
  prerequisites: |
    Выполнена авторизация
    Предварительно создана игра с ботом (см. тест-кейс «Создание игры с ботом») и открыта страница битвы с ботом
  test-data: |
    No data
  steps:
    - Нажать кнопку "give up"
  expected-result: |
    Игра заканчивается и отображается сообщение о проигрыше

- summary: |
    Выбор языка программирования в настройках
  requirement: |
    При запуске битвы язык в редакторе должен соответствовать языку в настройках
  prerequisites: |
    Выполнена авторизация
    Открыта страница с настройками
  test-data: |
    No data
  steps:
    - Из выпадающего списка "Your weapon" выбрать язык программирования, например PHP
    - Нажать кнопку "Save"
    - Перейти на главную страницу
    - Нажать на кнопку "Create a game"
    - Выбрать тип игры, например "With a bot"
    - Нажать кнопку «Create Battle»
  expected-result: |
    Язык в редакторе соответствует языку выбранному в настройках

- summary: |
    Выбор языка программирования в игре
  requirement: |
    При выборе языка в игре, язык в редакторе должен изменится
  prerequisites: |
    Выполнена авторизация
    Предварительно создана игра с ботом (см. тест-кейс «Создание игры с ботом») и открыта страница битвы с ботом
  test-data: |
    No data
  steps:
    - Из выпадающего списка языков, выбрать язык, например python
  expected-result: |
    Язык в редакторе изменился на выбранный язык программирования

- summary: |
    Проверка сообщения о ничье после окончания таймера отсчета
  requirement: |
    При окончании отсчёта появляется сообщение о ничье
  prerequisites: |
    Выполнена авторизация
    Открыта страница создания игры
  test-data: |
    No data
  steps:
    - Выбрать тип игры "With a bot"
    - Выбрать время игры, например 3 минуты
    - Нажать кнопку «Create Battle»
    - Дождаться окончания таймера
  expected-result: |
    Игра заканчивается и отображается сообщение о ничье

- summary: |
    Проверка сообщения о победе
  requirement: |
    При прохождении тестов должно появится сообщение о победе
  prerequisites: |
    Выполнена авторизация
    Предварительно создана игра с ботом (см. тест-кейс «Создание игры с ботом») и выбранна задача "rect_area" 
    Открыта страница битвы с ботом и в редакторе кода выбран язык программирования PHP
  test-data: |
    No data
  steps:
    - Заменить в редакторе кода строку "return 0;" на "return $length * $width;"
    - Нажать на кнопку "Check solution"
  expected-result: |
    Игра заканчивается и отображается сообщение о победе

- summary: |
    Проверка отправки сообщений в общий чат
  requirement: |
    Отправленные сообщения должны отображаться в общем чате
  prerequisites: |
    Выполнена авторизация
    Открыта главная страница
  test-data: |
    No data
  steps:
    - Написать что-либо в общий чат, например "Hi!"
  expected-result: |
    Сообщение отображается в общем чате

- summary: |
    Проверка отправки сообщений в уникальный чат игры
  requirement: |
    Отправленные сообщения должны отображаться в уникальном чате игры
  prerequisites: |
    Выполнена авторизация
    Предварительно создана игра с ботом (см. тест-кейс «Создание игры с ботом») и открыта страница битвы с ботом
  test-data: |
    No data
  steps:
    - Написать что-либо в уникальный чат игры, например "Hi!"
  expected-result: |
    Сообщение отображается в уникальном чате игры

- summary: |
    Проверка отправки приватных сообщений
  requirement: |
    Отправленные сообщения должны отображаться в приватном чате между пользователями
  prerequisites: |
    Выполнена авторизация
    Открыта главная страница
  test-data: |
    No data
  steps:
    - Нажать на кнопку "Send message"
    - Выбрать получателя сообщений
    - Написать что-либо в приватный чат, например "Hi!"
  expected-result: |
    Сообщение отображается в приватном чате

- summary: |
    Фильтр рейтинга по периоду времени 
  requirement: |
    Должен выводится рейтинг за выбранный период
  prerequisites: |
    Выполнена авторизация
    Открыта страница рейтинга
  test-data: |
    No data
  steps:
    - Нажать на кнопку выбора периода, например monthly
  expected-result: |
    Выводится рейтинг за выбранный период

- summary: |
    Фильтр рейтинга по количеству записей 
  requirement: |
    Должно выводится выбранное количество записей на странице
  prerequisites: |
    Выполнена авторизация
    Открыта страница рейтинга
  test-data: |
    No data
  steps:
    - Из выпадающего списка выбрать количество записей на странице, например 30
  expected-result: |
    Выводится выбранное количество записей на странице

- summary: |
    Фильтр рейтинга с учетом ботов 
  requirement: |
    В рейтинге должен отображаться рейтинг ботов
  prerequisites: |
    Выполнена авторизация
    Открыта страница рейтинга
  test-data: |
    No data
  steps:
    - В чекбоксе "With bots" поставить галочку
  expected-result: |
    В списке отображается рейтинг ботов

- summary: |
    Фильтр рейтинга по ключевому слову 
  requirement: |
    При вводе ключевого слова должны отобразится соответствующие строки
  prerequisites: |
    Выполнена авторизация
    Открыта страница рейтинга
  test-data: |
    No data
  steps:
    - Ввести в поле Username слово, например "test85"
  expected-result: |
    Отображается список в соответствии с запросом
